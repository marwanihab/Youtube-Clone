"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("./utils");
function Inject(dependency) {
    return (target, propertyKey, index) => {
        const allDependencies = Reflect.getMetadata(utils_1.DESIGN_PARAMTYPES, target) || [];
        const propertyKeys = Reflect.getMetadata(utils_1.PROPERTY_KEYS, target.constructor || target) || [];
        if (typeof propertyKey === 'undefined') {
            if (typeof index !== 'undefined') {
                allDependencies[index] = dependency;
            }
        }
        else {
            const designType = dependency || Reflect.getMetadata(utils_1.DESIGN_TYPE, target, propertyKey);
            Reflect.defineMetadata(utils_1.DESIGN_TYPE, designType, target, propertyKey);
            propertyKeys.push(propertyKey);
        }
        Reflect.defineMetadata(utils_1.DESIGN_PARAMTYPES, allDependencies, target);
        Reflect.defineMetadata(utils_1.PROPERTY_KEYS, propertyKeys, target.constructor || target);
        return target;
    };
}
exports.Inject = Inject;
function InjectFunction(...dependencies) {
    return (target) => {
        Reflect.defineMetadata(utils_1.DESIGN_PARAMTYPES, dependencies, target);
        return target;
    };
}
exports.InjectFunction = InjectFunction;
//# sourceMappingURL=inject.js.map